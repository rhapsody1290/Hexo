---
title: Linux视频教程第15讲.进程的介绍和管理

date: 2017-04-12 23:49:00

categories:
- Linux

tags:
- Linux

---

## 概述

1. 在Linux 中，每个执行的程序都称为一个进程，每一个进程都分配一个ID号 
2. 每一个进程，都会对应一个父进程，而这个父进程可以复制多个子进程，例如www服务器
3. 每个进程都可能以两种方式存在的:**前台与后台**。所谓前台进程就是用户目前的屏幕上可以进行操作的，后台进程则是实际在操作，但由于屏幕上无法看到的进程，通常使用后台方式执行
4. 一般系统的服务都是以后台进程的方式存在，而且都会常驻在系统中，直到关机才停止进程

## 进程与线程 

进程：就是正在执行的程序 
线程：轻量级的进程

进程有独立的地址空间，线程没有
线程不能独立存在，它是由进程创建（Linux下用fork函数，Java里用Thread或实现Runnable）

## 进程的管理

ps命令是用来查看目前系统中，有哪些正在执行，以及它们执行的情况，可以不加任何参数，显示详细的进程信息

```
使用案例：
a) ps ‐a：显示当前终端的所有进程信息 
b) ps ‐u：以用户的格式显示进程信息 
c) ps ‐x：显示后台进程运行的参数 
d) pa –aux【看的全面，信息也全面】 #1号进程是所有进程的父进程
```

	各列的解释：
	
	USER 进程的用户；
	PID   进程的ID；
	%CPU   进程占用的CPU百分比；
	%MEM  占用内存的百分比；
	VSZ     该进程使用的虚拟内存量（KB）；
	RSS     该进程占用的固定内存量（KB）；
	TTY     该进程在哪个终端上运行（登陆者的终端位置），若与终端无关，则显示（？）。若为pts/0等，则表示由网络连接主机进程；
	START   该进程被触发启动时间；
	TIME      该进程实际使用CPU运行的时间；
	COMMAND   命令的名称和参数；
	
	STAT状态位常见的状态字符
	D 无法中断的休眠状态（通常 IO 的进程）；
	R 正在运行可中在队列中可过行的；
	S 处于休眠状态；
	T 停止或被追踪；
	W 进入内存交换 （从内核2.6开始无效）；
	X 死掉的进程  （基本很少见）；
	Z 僵尸进程；
	< 优先级高的进程；
	N 优先级较低的进程；
	L 有些页被锁进内存；
	s 进程的领导者（在它之下有子进程）；
	l 多进程的（使用 CLONE_THREAD, 类似 NPTL pthreads）；
	+ 位于后台的进程组；

## 终止进程

若是某个进程执行一半需要停止时，或是已消了很大的系统资源时，此时可以考虑停止该进程，使用kill命令来完成此项任务

```
kill 进程号         #终止某个进程
kill -9 进程号      #强制关闭
killall            #杀死此进程和所有其子进程
```

##动态监控进程

top命令与ps命令很相似。它们都用来显示正在执行的进程。top与ps最大的不同之处，**在于top在执行一段时间可以更新正在运行的进程**

### top显示选项解释

![这里写图片描述](http://img.blog.csdn.net/20151226153756930)

<pre>
03:32:58当前系统时间 1:52，表示系统启动了多久

1 user，当前登录到Linux上的用户数

load average：0.00 0.00 0.00，三个数分别代表不同时间段的系统平均负载（一分钟、五分钟、以及十五分钟），当前系统负载情况，一般来说，参数越小，系统运行的越轻松，当平均数>0.6时，系统就很紧张了

Task：
38 processes，进程总数；
2 running，正在运行的进程数；
79sleeping：睡眠的进程数；
0 zombie：僵尸进程数（这个进程没有用了，还占用资源，比如父进程来不及收回子进程）

CPU：
2.0 us：用户空间占用CPU百分比
0.0 sy：	内核空间占用CPU百分比
0.0 ni：用户进程空间内改变过优先级的进程占用CPU百分比
97.7 id：空闲CPU百分比
0.3 wa：等待输入输出的CPU时间百分比
0.0 hi：硬件中断所占百分比
0.0 st：软件中断所占百分比

Kib Mem:
1017216 total：物理内存总量
343660 free：空闲内存总量
97692 used：使用的物理内存总量
575864 buffers：用作内核缓存的内存量

Kib Swap: 
2097148k total：交换区总量
192772k free：空闲交换区总量
0 used：使用的交换区总量

PID ： 进程id
PPID ： 父进程id
USER ： 进程所有者的用户名
PR ： 优先级
NI ： nice值。负值表示高优先级，正值表示低优先级
RES：进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA
S：进程状态

	D=不可中断的睡眠状态
	R=运行
	S=睡眠
	T=跟踪/停止
	Z=僵尸进程

%CPU：上次更新到现在的CPU时间占用百分比
%MEM：进程使用的物理内存百分比
TIME+：进程使用的CPU时间总计，单位1/100秒
COMMAND
命令名/命令行

</pre>

### 监视特定用户

```
top：输入此命令，按回车键，查看执行的进程 
然后输入"u"回车，再输入用户名，即可
```

### 终止指定的用户

```
top：输入此命令，按回车键，查看执行的进程
k：然后输入"k"回车，再输入要结束的进程ID号
```

### 指定系统状态更新的时间

```
top ‐d 10：指定系统更新进程的时间为10秒
```

### 设置系统时间

date命令：显示系统的时间，可以在直接输入"date"命令来查看系统的时间 

利用date命令来更改系统的时间

```
date MMDDHHMMCCYY.SS：月月日日时时分分年年.秒秒 
```

### 查看月历

```
cal 3 2002：查看2002年3月的月历
```

## 查看年历

```
cal 2008：查看2008的年历
```



